namespace = amaryllian

### Flags mod as present
event = {
        id = amaryllian.9
        hide_window = yes
		fire_only_once = yes
        trigger = {
                always = yes
        }
        immediate = {
                set_global_flag = amaryllian_habitat_start_installed
        }
}

### Home name change

planet_event = {
	id = amaryllian.1111
	hide_window = yes
	fire_only_once = yes
	trigger = {
		has_planet_flag = amaryllian_habitat
		}
	immediate = {
		set_name = "NAME_lotus"
			}
		}

### Prepare starting habitat

planet_event = {
	id = amaryllian.0
	hide_window = yes
	fire_only_once = yes
	trigger = {
	has_planet_flag = amaryllian_habitat
	}
	immediate = {
		save_event_target_as = amaryllian_habitat_target
		clear_blockers = yes
		clear_deposits = yes
		set_planet_flag = megastructure
		set_planet_flag = habitat
		set_planet_flag = advanced_habitat_2
		planet_event = {
			id = amaryllian.1
			days = 1
			random = 0
		}
	}
}

planet_event = {
	id = amaryllian.1
	hide_window = yes
	is_triggered_only = yes
	trigger = {
	has_planet_flag = amaryllian_habitat
	}
	immediate = {
		change_pc = pc_habitat
		set_planet_entity = { entity = "habitat_phase_03_entity" graphical_culture = fromfrom }
		set_planet_size = 10
		planet_event = {
			id = amaryllian.2
			days = 1
			random = 0
		}
	}
}

planet_event = {
	id = amaryllian.2
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_planet_flag = amaryllian_habitat
	}

	immediate = {
	
	if = {
		limit = { owner = { is_regular_empire = yes is_lithoid_empire = no is_machine_empire = no} }	
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_commercial
			add_district = district_hab_cultural
			add_building = building_hydroponics_farm
			add_building = building_hydroponics_farm
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = amaryllian_d_hab_food_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}
			
	else_if = {
		limit = { owner = { is_lithoid_empire = yes } 
				any_owned_pop = { is_lithoid = no is_organic_species = yes } }
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_commercial
			add_district = district_hab_commercial
			add_district = district_hab_cultural
			add_building = building_hydroponics_farm
			add_building = building_hydroponics_farm
			add_building = building_mineral_purification_plant
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1			
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}

	else_if = {
		limit = { owner = { is_lithoid_empire = yes is_hive_empire = no } }
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_commercial
			add_district = district_hab_commercial
			add_district = district_hab_cultural
			add_building = building_mineral_purification_plant		
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}
			
	else_if = {
		limit = { owner = { is_lithoid_empire = yes is_hive_empire = yes } }
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_hive_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_building = building_hive_node
			add_building = building_mineral_purification_plant			
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}

	else_if = { 
		limit = { owner = { has_authority = auth_machine_intelligence }
				any_owned_pop = { is_lithoid = no is_organic_species = yes }
				}
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_machine_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_building = building_hydroponics_farm
			add_building = building_hydroponics_farm
			add_building = building_maintenance_depot
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}

	else_if = { 
		limit = { owner = { has_authority = auth_machine_intelligence }
				any_owned_pop = { is_lithoid = yes is_organic_species = yes }
				}
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_machine_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_building = building_drone_storage
			add_building = building_maintenance_depot
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}
			
	else_if = {
		limit = { owner = { is_machine_empire = yes } }
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_machine_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_building = building_uplink_node	
			add_building = building_drone_storage			
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}
			
	else_if = {
		limit = { owner = { is_hive_empire = yes is_lithoid_empire = no } }
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_hive_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_building = building_hydroponics_farm
			add_building = building_hydroponics_farm
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = amaryllian_d_hab_food_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
			}

	else = {
			clear_blockers = yes
			clear_deposits = yes
			remove_building = building_capital
			add_building = building_hab_major_capital
			remove_building = building_research_lab_1
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_housing
			add_district = district_hab_science
			add_district = district_hab_science
			add_district = district_hab_energy
			add_district = district_hab_energy
			add_building = building_hydroponics_farm
			add_building = building_hydroponics_farm
			add_deposit = amaryllian_d_hab_minerals_1
			add_deposit = amaryllian_d_hab_energy_1
			add_deposit = amaryllian_d_hab_food_1
			add_deposit = d_hab_alloy_5
			check_planet_employment = yes
			break = yes
		}
	}
}

### Give starting tech to Amaryllian system starters

country_event = {
	id = amaryllian.3
	hide_window = yes
	fire_only_once = yes
	immediate = {
		country_event = {
			id = amaryllian.4
			days = 1
			random = 0
		}
		country_event = {
			id = amaryllian.44
			days = 1
			random = 0
		}		
# Firing employment check event no 65 for Habitat Captains
		country_event = {
			id = amaryllian.65
			days = 5
			random = 0
		}
		country_event = {
			id = amaryllian.65
			days = 15
			random = 0
		}
		country_event = {
			id = amaryllian.65
			days = 35
			random = 0
		}
		every_country = {
			limit = {
				any_owned_planet = {
					is_homeworld = yes
					is_capital = yes
					has_planet_flag = amaryllian_habitat }
				any_owned_pop = { is_lithoid = no is_organic_species = yes }
			}
		give_technology = {
			message = no
			tech = tech_hydroponics
		}
	}
		every_country = {
			limit = {
				any_owned_planet = {
					is_homeworld = yes
					is_capital = yes
					has_planet_flag = amaryllian_habitat }
				is_lithoid_empire = yes
			}
		give_technology = {
			message = no
			tech = tech_mineral_purification_1
		}
	}
		every_country = {
			limit = {
				any_owned_planet = {
					is_homeworld = yes
					is_capital = yes
					has_planet_flag = amaryllian_habitat }
			}
		give_technology = {
			message = no
			tech = tech_habitat_1
		}
	}
	}
}

# Federations Void Dwellers Origin
country_event = {
	id = amaryllian.12
	hide_window = yes
	fire_only_once = yes
	immediate = {
#		country_event = {
#			id = amaryllian.4
#			days = 2
#			random = 0
#		}
		every_country = {
			limit = {
				has_civic = civic_amaryllian_habitat
				any_owned_planet = {
					is_homeworld = yes
					is_capital = yes
					has_planet_flag = void_dweller_habitat_1 }
				any_owned_pop = { is_lithoid = no is_organic_species = yes }
			}
		give_technology = {
			message = no
			tech = tech_hydroponics
		}
	}
		every_country = {
			limit = {
				has_civic = civic_amaryllian_habitat
				any_owned_planet = {
					is_homeworld = yes
					is_capital = yes
					has_planet_flag = void_dweller_habitat_1 }
				is_lithoid_empire = yes
			}
		give_technology = {
			message = no
			tech = tech_mineral_purification_1
		}
	}
		every_country = {
			limit = {
				has_civic = civic_amaryllian_habitat
				any_owned_planet = {
					is_homeworld = yes
					is_capital = yes
					has_planet_flag = void_dweller_habitat_1 }
			}
		give_technology = {
			message = no
			tech = tech_habitat_1
		}
	}
	}
}

### Change habitability of primary species if civic is picked
country_event = {
	id = amaryllian.44
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		NOR = {
		has_origin = origin_pd_sol_hab_start
		has_origin = origin_pd_hab_start
		has_origin = origin_starborn
		has_country_flag = EGS_START_STARBORN
		has_country_flag = starborn_origin
	}
		any_owned_pop = {
			is_same_species = root
			NOT = { pop_has_trait = trait_pc_habitat_preference }
			OR = { is_organic_species = yes is_lithoid = yes}
		} }

	immediate = {
		owner_species = { save_event_target_as = amaryllian_pop}
		every_owned_pop = {
			limit = {
				is_same_species = root
				NOT = { pop_has_trait = trait_pc_habitat_preference }
				OR = { is_organic_species = yes is_lithoid = yes}
			}
		set_pop_flag = amaryllian_pop
		modify_species = { species = this
		ideal_planet_class = pc_habitat add_trait = trait_void_dweller_1 }
		}
	country_event = {
			id = amaryllian.444
			days = 1
			random = 0
		}			
	}
}

country_event = {
	id = amaryllian.444
	hide_window = yes
	is_triggered_only = yes
	trigger = {	has_civic = civic_amaryllian_habitat 
	NOR = {
		has_origin = origin_pd_sol_hab_start
		has_origin = origin_pd_hab_start
		has_origin = origin_starborn
		has_country_flag = EGS_START_STARBORN
		has_country_flag = starborn_origin
	} }
		immediate = {
			random_owned_pop = {
					limit = { has_pop_flag = amaryllian_pop }
					root = { change_dominant_species = { species = prev } }
				}
		}
		}

# set_built_species = amaryllian_pop	need to implement to the above

### Change habitability of secondary species if civic is picked
country_event = {
	id = amaryllian.4
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		NOR = {
		has_origin = origin_pd_sol_hab_start
		has_origin = origin_pd_hab_start
		has_origin = origin_starborn
		has_country_flag = EGS_START_STARBORN
		has_country_flag = starborn_origin
	}
		any_owned_planet = {
					is_homeworld = yes
					is_capital = yes
					has_planet_flag = amaryllian_habitat }
		any_owned_pop = {
			NOT = { is_same_species = root }
			NOT = { pop_has_trait = trait_pc_habitat_preference }
			OR = { is_organic_species = yes is_lithoid = yes}
		} }

	immediate = {
		every_owned_pop = {
			limit = {
				NOT = { is_same_species = root }
				NOT = { pop_has_trait = trait_pc_habitat_preference }
				OR = { is_organic_species = yes is_lithoid = yes}
			}
		modify_species = { species = this
		ideal_planet_class = pc_habitat add_trait = trait_void_dweller_1 }
		set_citizenship_type = { type = citizenship_assimilation }
		}	
	}
}

### Launch events 6 and 7
country_event = {
	id = amaryllian.8
	hide_window = yes
	fire_only_once = yes
	trigger = {
	has_civic = civic_amaryllian_habitat
	}
	immediate = {
		country_event = {
			id = amaryllian.61
			days = 2
			random = 0
		}
		country_event = {
			id = amaryllian.62
			days = 2
			random = 0
		}
		country_event = {
			id = amaryllian.63
			days = 2
			random = 0
		}
		country_event = {
			id = amaryllian.7
			days = 4
			random = 0
		}
	}
}

### Apply civic bonus to habitats

country_event = {
	id = amaryllian.60
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	country_event = {
			id = amaryllian.61
			days = 4
			random = 0
		}
	country_event = {
			id = amaryllian.62
			days = 8
			random = 0
		}
	country_event = {
			id = amaryllian.63
			days = 12
			random = 0
		}
	}
}

country_event = {
	id = amaryllian.61
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		is_gestalt = yes
	}
	immediate = {
		every_owned_planet = {
				limit = {
					OR = {
# Vanilla
					is_planet_class = pc_habitat
					is_planet_class = pc_ringworld_habitable
# Planetary Diversity - Planetary Habitats
					is_planet_class = pc_pd_barren_cold_hab
					is_planet_class = pc_pd_barren_hab
					is_planet_class = pc_pd_frozen_hab
					is_planet_class = pc_pd_gas_giant_hab
					is_planet_class = pc_pd_hothouse_hab
					is_planet_class = pc_pd_molten_hab
					is_planet_class = pc_pd_asteroid_hab
# Planetary Diversity - Planetary Habitats - old classes for backwards compatibility
					is_planet_class = pc_gghab
					is_planet_class = pc_tmhab
					is_planet_class = pc_tmhab2
					is_planet_class = pc_mmhab
					is_planet_class = pc_mmhab2
					is_planet_class = pc_bhab
					is_planet_class = pc_bchab
					is_planet_class = pc_mhab
					is_planet_class = pc_fhab
					is_planet_class = pc_fmhab
					is_planet_class = pc_mehab
# Starborn: Improved Voidtouched
					is_planet_class = pc_starborn_habitat_start
# Dyson Swarm - colonizing space
					is_planet_class = pc_dyson_swarm
# Living Space
					is_planet_class = pc_gas_giant_habitat
					is_planet_class = pc_asteroid_habitat
					is_planet_class = pc_ice_asteroid_habitat
					is_planet_class = pc_rare_crystal_asteroid_habitat
					is_planet_class = pc_molten_habitat
					is_planet_class = pc_barren_habitat
					is_planet_class = pc_barren_cold_habitat
					is_planet_class = pc_toxic_habitat
					is_planet_class = pc_frozen_habitat
					is_planet_class = pc_b_star_habitat
					is_planet_class = pc_a_star_habitat
					is_planet_class = pc_f_star_habitat
					is_planet_class = pc_g_star_habitat
					is_planet_class = pc_k_star_habitat
					is_planet_class = pc_m_star_habitat
					is_planet_class = pc_m_giant_star_habitat
					is_planet_class = pc_t_star_habitat
					is_planet_class = pc_black_hole_habitat
					is_planet_class = pc_neutron_star_habitat
					is_planet_class = pc_pulsar_habitat
# Habitation
					is_planet_class = pc_hab_gas_giant_energy
					is_planet_class = pc_hab_gas_giant_science
					is_planet_class = pc_hab_gas_giant_minerals
					is_planet_class = pc_hab_asteroid
					is_planet_class = pc_hab_ice_asteroid
					is_planet_class = pc_hab_rare_crystal_asteroid
					is_planet_class = pc_hab_molten
					is_planet_class = pc_hab_barren
					is_planet_class = pc_hab_barren_cold
					is_planet_class = pc_hab_toxic
					is_planet_class = pc_hab_frozen
# Gigastructural Engineering & More
					is_planet_class = pc_ringworld_city
					is_planet_class = pc_ringworld_machine
					is_planet_class = pc_ringworld_hive
					is_planet_class = pc_birch
					is_planet_class = pc_flat_world
					is_planet_class = pc_habitable_m_star
					is_planet_class = pc_habitable_k_star
					is_planet_class = pc_habitable_g_star
					is_planet_class = pc_ringworld_alloys
					is_planet_class = pc_giga_planetary_computer
					is_planet_class = pc_city_ringworld_habitable
#					is_planet_class = pc_habitable_gas_giant
#					is_planet_class = pc_ll_temperate
#					is_planet_class = pc_ll_foggy
					is_planet_class = pc_virtual_world
					is_planet_class = pc_squareworld_habitable
					is_planet_class = pc_giga_ringworld_habitable
					is_planet_class = pc_gigaorbital_ring
					is_planet_class = pc_interstellar_habitat
					is_planet_class = pc_interstellar_ringworld_habitable
					is_planet_class = pc_virtual_reality
					is_planet_class = pc_virtual_industry
					is_planet_class = pc_virtual_stellar_industry
# Ascendancy Ringworlds
					is_planet_class = pc_ringworld_city
					is_planet_class = pc_ringworld_eco_city
					is_planet_class = pc_ringworld_energy_city
					is_planet_class = pc_ringworld_machine
					is_planet_class = pc_ringworld_hive
					is_planet_class = pc_ringworld_shrouded_paradise
					is_planet_class = pc_square_ringworld_city
					is_planet_class = pc_square_ringworld_energy_city
					is_planet_class = pc_square_ringworld_machine
					is_planet_class = pc_square_ringworld_hive
					is_planet_class = pc_ringworld_assimilated
					is_planet_class = pc_ringworld_assimilated2
					is_planet_class = pc_ringworld_assimilated3
					is_planet_class = pc_ringworld_assimilated4
					is_planet_class = pc_ringworld_machine_factory
					is_planet_class = pc_ringworld_bioforge
					is_planet_class = pc_ringworld_mining
					is_planet_class = pc_ringworld_energy
					is_planet_class = pc_ringworld_trade
					is_planet_class = pc_ringworld_training
					is_planet_class = pc_ringworld_training_shielded
					is_planet_class = pc_ringworld_eco
					is_planet_class = pc_ringworld_farming
					is_planet_class = pc_ringworld_razed_city
					is_planet_class = pc_ringworld_razed_energy
					is_planet_class = pc_ringworld_razed_farming
					is_planet_class = pc_ringworld_razed_mining
					is_planet_class = pc_ringworld_razed_training
					is_planet_class = pc_ringworld_razed_eco
					}
					NOT = { has_modifier = amaryllian_habitat_brain_quarters }
				}
				add_modifier = {
					modifier = amaryllian_habitat_brain_quarters
					days = -1
					}
			}
		country_event = {
			id = amaryllian.66
			days = 5
			random = 0
		}
		}
	}

country_event = {
	id = amaryllian.62
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		is_gestalt = no
	}
	immediate = {
		every_owned_planet = {
				limit = {
					OR = {
# Vanilla
					is_planet_class = pc_habitat
					is_planet_class = pc_ringworld_habitable
# Planetary Diversity - Planetary Habitats
					is_planet_class = pc_pd_barren_cold_hab
					is_planet_class = pc_pd_barren_hab
					is_planet_class = pc_pd_frozen_hab
					is_planet_class = pc_pd_gas_giant_hab
					is_planet_class = pc_pd_hothouse_hab
					is_planet_class = pc_pd_molten_hab
					is_planet_class = pc_pd_asteroid_hab
# Planetary Diversity - Planetary Habitats - old classes for backwards compatibility
					is_planet_class = pc_gghab
					is_planet_class = pc_tmhab
					is_planet_class = pc_tmhab2
					is_planet_class = pc_mmhab
					is_planet_class = pc_mmhab2
					is_planet_class = pc_bhab
					is_planet_class = pc_bchab
					is_planet_class = pc_mhab
					is_planet_class = pc_fhab
					is_planet_class = pc_fmhab
					is_planet_class = pc_mehab
# Starborn: Improved Voidtouched
					is_planet_class = pc_starborn_habitat_start
# Dyson Swarm - colonizing space
					is_planet_class = pc_dyson_swarm
# Living Space
					is_planet_class = pc_gas_giant_habitat
					is_planet_class = pc_asteroid_habitat
					is_planet_class = pc_ice_asteroid_habitat
					is_planet_class = pc_rare_crystal_asteroid_habitat
					is_planet_class = pc_molten_habitat
					is_planet_class = pc_barren_habitat
					is_planet_class = pc_barren_cold_habitat
					is_planet_class = pc_toxic_habitat
					is_planet_class = pc_frozen_habitat
					is_planet_class = pc_b_star_habitat
					is_planet_class = pc_a_star_habitat
					is_planet_class = pc_f_star_habitat
					is_planet_class = pc_g_star_habitat
					is_planet_class = pc_k_star_habitat
					is_planet_class = pc_m_star_habitat
					is_planet_class = pc_m_giant_star_habitat
					is_planet_class = pc_t_star_habitat
					is_planet_class = pc_black_hole_habitat
					is_planet_class = pc_neutron_star_habitat
					is_planet_class = pc_pulsar_habitat
# Habitation
					is_planet_class = pc_hab_gas_giant_energy
					is_planet_class = pc_hab_gas_giant_science
					is_planet_class = pc_hab_gas_giant_minerals
					is_planet_class = pc_hab_asteroid
					is_planet_class = pc_hab_ice_asteroid
					is_planet_class = pc_hab_rare_crystal_asteroid
					is_planet_class = pc_hab_molten
					is_planet_class = pc_hab_barren
					is_planet_class = pc_hab_barren_cold
					is_planet_class = pc_hab_toxic
					is_planet_class = pc_hab_frozen
# Gigastructural Engineering & More
					is_planet_class = pc_ringworld_city
					is_planet_class = pc_ringworld_machine
					is_planet_class = pc_ringworld_hive
					is_planet_class = pc_birch
					is_planet_class = pc_flat_world
					is_planet_class = pc_habitable_m_star
					is_planet_class = pc_habitable_k_star
					is_planet_class = pc_habitable_g_star
					is_planet_class = pc_ringworld_alloys
					is_planet_class = pc_giga_planetary_computer
					is_planet_class = pc_city_ringworld_habitable
#					is_planet_class = pc_habitable_gas_giant
#					is_planet_class = pc_ll_temperate
#					is_planet_class = pc_ll_foggy
					is_planet_class = pc_virtual_world
					is_planet_class = pc_squareworld_habitable
					is_planet_class = pc_giga_ringworld_habitable
					is_planet_class = pc_gigaorbital_ring
					is_planet_class = pc_interstellar_habitat
					is_planet_class = pc_interstellar_ringworld_habitable
					is_planet_class = pc_virtual_reality
					is_planet_class = pc_virtual_industry
					is_planet_class = pc_virtual_stellar_industry
# Ascendancy Ringworlds
					is_planet_class = pc_ringworld_city
					is_planet_class = pc_ringworld_eco_city
					is_planet_class = pc_ringworld_energy_city
					is_planet_class = pc_ringworld_machine
					is_planet_class = pc_ringworld_hive
					is_planet_class = pc_ringworld_shrouded_paradise
					is_planet_class = pc_square_ringworld_city
					is_planet_class = pc_square_ringworld_energy_city
					is_planet_class = pc_square_ringworld_machine
					is_planet_class = pc_square_ringworld_hive
					is_planet_class = pc_ringworld_assimilated
					is_planet_class = pc_ringworld_assimilated2
					is_planet_class = pc_ringworld_assimilated3
					is_planet_class = pc_ringworld_assimilated4
					is_planet_class = pc_ringworld_machine_factory
					is_planet_class = pc_ringworld_bioforge
					is_planet_class = pc_ringworld_mining
					is_planet_class = pc_ringworld_energy
					is_planet_class = pc_ringworld_trade
					is_planet_class = pc_ringworld_training
					is_planet_class = pc_ringworld_training_shielded
					is_planet_class = pc_ringworld_eco
					is_planet_class = pc_ringworld_farming
					is_planet_class = pc_ringworld_razed_city
					is_planet_class = pc_ringworld_razed_energy
					is_planet_class = pc_ringworld_razed_farming
					is_planet_class = pc_ringworld_razed_mining
					is_planet_class = pc_ringworld_razed_training
					is_planet_class = pc_ringworld_razed_eco
					}
					NOT = { has_modifier = amaryllian_habitat_captain_quarters }
				}
				add_modifier = {
					modifier = amaryllian_habitat_captain_quarters
					days = -1
				}
			}
		country_event = {
			id = amaryllian.66
			days = 5
			random = 0
		}
		}
	}
	
country_event = {
	id = amaryllian.63
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		NOT = { has_civic = civic_amaryllian_habitat }
	}
	immediate = {
		every_owned_planet = {
				limit = {
					OR = {
# Vanilla
					is_planet_class = pc_habitat
					is_planet_class = pc_ringworld_habitable
# Planetary Diversity - Planetary Habitats
					is_planet_class = pc_pd_barren_cold_hab
					is_planet_class = pc_pd_barren_hab
					is_planet_class = pc_pd_frozen_hab
					is_planet_class = pc_pd_gas_giant_hab
					is_planet_class = pc_pd_hothouse_hab
					is_planet_class = pc_pd_molten_hab
					is_planet_class = pc_pd_asteroid_hab
# Planetary Diversity - Planetary Habitats - old classes for backwards compatibility
					is_planet_class = pc_gghab
					is_planet_class = pc_tmhab
					is_planet_class = pc_tmhab2
					is_planet_class = pc_mmhab
					is_planet_class = pc_mmhab2
					is_planet_class = pc_bhab
					is_planet_class = pc_bchab
					is_planet_class = pc_mhab
					is_planet_class = pc_fhab
					is_planet_class = pc_fmhab
					is_planet_class = pc_mehab
# Starborn: Improved Voidtouched
					is_planet_class = pc_starborn_habitat_start
# Dyson Swarm - colonizing space
					is_planet_class = pc_dyson_swarm
# Living Space
					is_planet_class = pc_gas_giant_habitat
					is_planet_class = pc_asteroid_habitat
					is_planet_class = pc_ice_asteroid_habitat
					is_planet_class = pc_rare_crystal_asteroid_habitat
					is_planet_class = pc_molten_habitat
					is_planet_class = pc_barren_habitat
					is_planet_class = pc_barren_cold_habitat
					is_planet_class = pc_toxic_habitat
					is_planet_class = pc_frozen_habitat
					is_planet_class = pc_b_star_habitat
					is_planet_class = pc_a_star_habitat
					is_planet_class = pc_f_star_habitat
					is_planet_class = pc_g_star_habitat
					is_planet_class = pc_k_star_habitat
					is_planet_class = pc_m_star_habitat
					is_planet_class = pc_m_giant_star_habitat
					is_planet_class = pc_t_star_habitat
					is_planet_class = pc_black_hole_habitat
					is_planet_class = pc_neutron_star_habitat
					is_planet_class = pc_pulsar_habitat
# Habitation
					is_planet_class = pc_hab_gas_giant_energy
					is_planet_class = pc_hab_gas_giant_science
					is_planet_class = pc_hab_gas_giant_minerals
					is_planet_class = pc_hab_asteroid
					is_planet_class = pc_hab_ice_asteroid
					is_planet_class = pc_hab_rare_crystal_asteroid
					is_planet_class = pc_hab_molten
					is_planet_class = pc_hab_barren
					is_planet_class = pc_hab_barren_cold
					is_planet_class = pc_hab_toxic
					is_planet_class = pc_hab_frozen
# Gigastructural Engineering & More
					is_planet_class = pc_ringworld_city
					is_planet_class = pc_ringworld_machine
					is_planet_class = pc_ringworld_hive
					is_planet_class = pc_birch
					is_planet_class = pc_flat_world
					is_planet_class = pc_habitable_m_star
					is_planet_class = pc_habitable_k_star
					is_planet_class = pc_habitable_g_star
					is_planet_class = pc_ringworld_alloys
					is_planet_class = pc_giga_planetary_computer
					is_planet_class = pc_city_ringworld_habitable
#					is_planet_class = pc_habitable_gas_giant
#					is_planet_class = pc_ll_temperate
#					is_planet_class = pc_ll_foggy
					is_planet_class = pc_virtual_world
					is_planet_class = pc_squareworld_habitable
					is_planet_class = pc_giga_ringworld_habitable
					is_planet_class = pc_gigaorbital_ring
					is_planet_class = pc_interstellar_habitat
					is_planet_class = pc_interstellar_ringworld_habitable
					is_planet_class = pc_virtual_reality
					is_planet_class = pc_virtual_industry
					is_planet_class = pc_virtual_stellar_industry
# Ascendancy Ringworlds
					is_planet_class = pc_ringworld_city
					is_planet_class = pc_ringworld_eco_city
					is_planet_class = pc_ringworld_energy_city
					is_planet_class = pc_ringworld_machine
					is_planet_class = pc_ringworld_hive
					is_planet_class = pc_ringworld_shrouded_paradise
					is_planet_class = pc_square_ringworld_city
					is_planet_class = pc_square_ringworld_energy_city
					is_planet_class = pc_square_ringworld_machine
					is_planet_class = pc_square_ringworld_hive
					is_planet_class = pc_ringworld_assimilated
					is_planet_class = pc_ringworld_assimilated2
					is_planet_class = pc_ringworld_assimilated3
					is_planet_class = pc_ringworld_assimilated4
					is_planet_class = pc_ringworld_machine_factory
					is_planet_class = pc_ringworld_bioforge
					is_planet_class = pc_ringworld_mining
					is_planet_class = pc_ringworld_energy
					is_planet_class = pc_ringworld_trade
					is_planet_class = pc_ringworld_training
					is_planet_class = pc_ringworld_training_shielded
					is_planet_class = pc_ringworld_eco
					is_planet_class = pc_ringworld_farming
					is_planet_class = pc_ringworld_razed_city
					is_planet_class = pc_ringworld_razed_energy
					is_planet_class = pc_ringworld_razed_farming
					is_planet_class = pc_ringworld_razed_mining
					is_planet_class = pc_ringworld_razed_training
					is_planet_class = pc_ringworld_razed_eco
					}
					OR = {
						has_modifier = amaryllian_habitat_captain_quarters 
						has_modifier = amaryllian_habitat_brain_quarters
					} }
				remove_modifier = amaryllian_habitat_captain_quarters
				remove_modifier = amaryllian_habitat_brain_quarters
			}
		}
	}

country_event = {
	id = amaryllian.67	
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_ascension_perk = ap_amaryllian_voidchildren
	}
	immediate = {
	country_event = {
			id = amaryllian.64
			days = 16
			random = 0
		}
	}
}

country_event = {
	id = amaryllian.64
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_ascension_perk = ap_amaryllian_voidchildren
	}
	
	immediate = {
		every_owned_planet = {
				limit = {
					OR = {
# Vanilla
					is_planet_class = pc_habitat
# Planetary Diversity - Planetary Habitats
					is_planet_class = pc_pd_barren_cold_hab
					is_planet_class = pc_pd_barren_hab
					is_planet_class = pc_pd_frozen_hab
					is_planet_class = pc_pd_gas_giant_hab
					is_planet_class = pc_pd_hothouse_hab
					is_planet_class = pc_pd_molten_hab
					is_planet_class = pc_pd_asteroid_hab
# Planetary Diversity - Planetary Habitats - old classes for backwards compatibility
					is_planet_class = pc_gghab
					is_planet_class = pc_tmhab
					is_planet_class = pc_tmhab2
					is_planet_class = pc_mmhab
					is_planet_class = pc_mmhab2
					is_planet_class = pc_bhab
					is_planet_class = pc_bchab
					is_planet_class = pc_mhab
					is_planet_class = pc_fhab
					is_planet_class = pc_fmhab
					is_planet_class = pc_mehab
# Starborn: Improved Voidtouched
					is_planet_class = pc_starborn_habitat_start
# Dyson Swarm - colonizing space
					is_planet_class = pc_dyson_swarm
# Living Space
					is_planet_class = pc_gas_giant_habitat
					is_planet_class = pc_asteroid_habitat
					is_planet_class = pc_ice_asteroid_habitat
					is_planet_class = pc_rare_crystal_asteroid_habitat
					is_planet_class = pc_molten_habitat
					is_planet_class = pc_barren_habitat
					is_planet_class = pc_barren_cold_habitat
					is_planet_class = pc_toxic_habitat
					is_planet_class = pc_frozen_habitat
					is_planet_class = pc_b_star_habitat
					is_planet_class = pc_a_star_habitat
					is_planet_class = pc_f_star_habitat
					is_planet_class = pc_g_star_habitat
					is_planet_class = pc_k_star_habitat
					is_planet_class = pc_m_star_habitat
					is_planet_class = pc_m_giant_star_habitat
					is_planet_class = pc_t_star_habitat
					is_planet_class = pc_black_hole_habitat
					is_planet_class = pc_neutron_star_habitat
					is_planet_class = pc_pulsar_habitat
# Habitation
					is_planet_class = pc_hab_gas_giant_energy
					is_planet_class = pc_hab_gas_giant_science
					is_planet_class = pc_hab_gas_giant_minerals
					is_planet_class = pc_hab_asteroid
					is_planet_class = pc_hab_ice_asteroid
					is_planet_class = pc_hab_rare_crystal_asteroid
					is_planet_class = pc_hab_molten
					is_planet_class = pc_hab_barren
					is_planet_class = pc_hab_barren_cold
					is_planet_class = pc_hab_toxic
					is_planet_class = pc_hab_frozen
					}
					NOT = { has_modifier = amaryllian_voidchildren_habitat_modifier }
				}
				add_modifier = {
					modifier = amaryllian_voidchildren_habitat_modifier
					days = -1
				}
			}
		}
	}

country_event = {
	id = amaryllian.65
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
	}
	immediate = {
		every_owned_planet = {
			check_planet_employment = yes
			check_planet_employment = yes
			check_planet_employment = yes
			check_planet_employment = yes
		}
		remove_modifier = amaryllian_gestalt_unity_0
		remove_modifier = amaryllian_unity_0
	}
}

country_event = {
	id = amaryllian.66
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
	}
	immediate = {
		every_owned_planet = {
			check_planet_employment = yes
		}
		remove_modifier = amaryllian_gestalt_unity_0
		remove_modifier = amaryllian_unity_0
	}
}

country_event = {
	id = amaryllian.70
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_arms_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_arms_industry
		}
	}

country_event = {
	id = amaryllian.71
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_civilian_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_civilian_industry
		}
	}

country_event = {
	id = amaryllian.72
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_farming_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_farming_industry
		}
	}
	
country_event = {
	id = amaryllian.73
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_fortress_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_fortress_industry
		}
	}
	
country_event = {
	id = amaryllian.74
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_research_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_research_industry
		}
	}
	
country_event = {
	id = amaryllian.75
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_amaryllian_voidchildren
		NOT = { has_technology = amaryllian_tech_bureaucratic_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_bureaucratic_industry
		}
	}

country_event = {
	id = amaryllian.76
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_amaryllian_voidchildren
		NOT = { has_technology = amaryllian_tech_refinery_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_refinery_industry
		}
	}

country_event = {
	id = amaryllian.77
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_trade_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_trade_industry
		}
	}
	
country_event = {
	id = amaryllian.78
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_mining_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_mining_industry
		}
	}

country_event = {
	id = amaryllian.79
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_generator_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_generator_industry
		}
	}

country_event = {
	id = amaryllian.80
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		has_valid_civic = civic_machine_servitor
		has_ascension_perk = ap_voidborn
		NOT = { has_technology = amaryllian_tech_sanctuary_industry }
	}

	immediate = {
		add_research_option = amaryllian_tech_sanctuary_industry
		}
	}


	
	
### Count habitat captains and apply unity bonus
country_event = {
	id = amaryllian.7
	hide_window = yes
	is_triggered_only = yes
	trigger = {
	
		has_civic = civic_amaryllian_habitat
	}
	immediate = {

	if = {
		limit = {
				is_gestalt = yes
			}
			
			if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 0 }
			}
		break = yes
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 1 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_1 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 2 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_2 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 3 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_3 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 4 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_4 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 5 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_5 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 6 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_6 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 7 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_7 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 8 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_8 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 9 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_9 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 10 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_10 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 11 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_11 days = 360 }
		}

		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 12 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_12 days = 360 }
		}

		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 13 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_13 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 14 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_14 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count = 15 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_15 days = 360 }
		}

		else = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_brain } count > 15 }
			}
		add_modifier = { modifier = amaryllian_gestalt_unity_16 days = 360 }
		}
			
			
			}
	
	else = {			
			
		if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 0 }
			}
		break = yes
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 1 }
			}
		add_modifier = { modifier = amaryllian_unity_1 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 2 }
			}
		add_modifier = { modifier = amaryllian_unity_2 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 3 }
			}
		add_modifier = { modifier = amaryllian_unity_3 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 4 }
			}
		add_modifier = { modifier = amaryllian_unity_4 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 5 }
			}
		add_modifier = { modifier = amaryllian_unity_5 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 6 }
			}
		add_modifier = { modifier = amaryllian_unity_6 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 7 }
			}
		add_modifier = { modifier = amaryllian_unity_7 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 8 }
			}
		add_modifier = { modifier = amaryllian_unity_8 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 9 }
			}
		add_modifier = { modifier = amaryllian_unity_9 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 10 }
			}
		add_modifier = { modifier = amaryllian_unity_10 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 11 }
			}
		add_modifier = { modifier = amaryllian_unity_11 days = 360 }
		}

		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 12 }
			}
		add_modifier = { modifier = amaryllian_unity_12 days = 360 }
		}

		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 13 }
			}
		add_modifier = { modifier = amaryllian_unity_13 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 14 }
			}
		add_modifier = { modifier = amaryllian_unity_14 days = 360 }
		}
		
		else_if = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count = 15 }
			}
		add_modifier = { modifier = amaryllian_unity_15 days = 360 }
		}

		else = {
			limit = {
				count_owned_pops = { limit = { has_job = amaryllian_habitat_captain } count > 15 }
			}
		add_modifier = { modifier = amaryllian_unity_16 days = 360 }
		}
	}
		
	}
}

# Disabled in 2.7.1 due to habitat changes. See on_actions
# Habitat cost and speed build bonus campaign
country_event = {
	id = amaryllian.10
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_civic = civic_amaryllian_habitat
		NOT = { has_country_flag = amaryllian_void_campaign_finished }
	}
	
	immediate = {
		if = {
		limit = { years_passed = 1 }
		country_event = {
			id = amaryllian.11
			days = 31
			random = 0
		}
		}
		
		else_if = {
		limit = { years_passed = 6 }
		add_modifier = { modifier = amaryllian_void_campaign_2 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 11 }
		add_modifier = { modifier = amaryllian_void_campaign_3 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 16 }
		add_modifier = { modifier = amaryllian_void_campaign_4 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 21 }
		add_modifier = { modifier = amaryllian_void_campaign_5 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 26 }
		add_modifier = { modifier = amaryllian_void_campaign_6 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 31 }
		add_modifier = { modifier = amaryllian_void_campaign_7 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 36 }
		add_modifier = { modifier = amaryllian_void_campaign_8 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 41 }
		add_modifier = { modifier = amaryllian_void_campaign_9 days = 1800 } }
		
		else_if = {
		limit = { years_passed = 46 }
		add_modifier = { modifier = amaryllian_void_campaign_10 days = 1800 } }

		else_if = {
		limit = { years_passed > 50 }
		set_country_flag = amaryllian_void_campaign_finished }

		else = { break = yes }
		}
	}

country_event = {
	id = amaryllian.11
	title = amaryllian.11.name
	desc = amaryllian.11.desc
	picture = GFX_evt_megastructure_construction
	show_sound = event_construction_03
	location = root

	is_triggered_only = yes

	trigger = {
		is_ai = no
	}

	option = {
		name = amaryllian.11.a
		add_modifier = { modifier = amaryllian_void_campaign_1 days = 1800 }
	}
}

# Habitat arcology complete
planet_event = {
	id = amaryllian.200
	title = amaryllian.200.name
	desc = amaryllian.200.desc
	picture = GFX_evt_tradestation_interior
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_civilian_arcology
	}

	option = {
		name = amaryllian.200.a
	}
}

planet_event = {
	id = amaryllian.201
	title = amaryllian.201.name
	desc = amaryllian.201.desc
	picture = GFX_evt_space_hangar
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_arms_arcology
	}

	option = {
		name = amaryllian.201.a
	}
}

planet_event = {
	id = amaryllian.202
	title = amaryllian.202.name
	desc = amaryllian.202.desc
	picture = GFX_evt_baol_ruins
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_farming_arcology
	}

	option = {
		name = amaryllian.202.a
	}
}

planet_event = {
	id = amaryllian.203
	title = amaryllian.203.name
	desc = amaryllian.203.desc
	picture = GFX_evt_space_station
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_fortress_arcology
	}

	option = {
		name = amaryllian.203.a
	}
}

planet_event = {
	id = amaryllian.204
	title = amaryllian.204.name
	desc = amaryllian.204.desc
	picture = GFX_evt_physics_research
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_research_arcology
	}

	option = {
		name = amaryllian.204.a
	}
}

planet_event = {
	id = amaryllian.205
	title = amaryllian.205.name
	desc = amaryllian.205.desc
	picture = GFX_evt_galactic_market
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_bureaucratic_arcology
	}

	option = {
		name = amaryllian.205.a
	}
}

planet_event = {
	id = amaryllian.206
	title = amaryllian.206.name
	desc = amaryllian.206.desc
	picture = GFX_evt_ship_offloading_cargo
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_refinery_arcology
	}

	option = {
		name = amaryllian.206.a
	}
}

planet_event = {
	id = amaryllian.207
	title = amaryllian.207.name
	desc = amaryllian.207.desc
	picture = GFX_evt_financial_instruments
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_trade_arcology
	}

	option = {
		name = amaryllian.207.a
	}
}

planet_event = {
	id = amaryllian.208
	title = amaryllian.208.name
	desc = amaryllian.208.desc
	picture = GFX_evt_resource_cache
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_mining_arcology
	}

	option = {
		name = amaryllian.208.a
	}
}

planet_event = {
	id = amaryllian.209
	title = amaryllian.209.name
	desc = amaryllian.209.desc
	picture = GFX_evt_ancient_databank
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_generator_arcology
	}

	option = {
		name = amaryllian.209.a
	}
}

planet_event = {
	id = amaryllian.210
	title = amaryllian.210.name
	desc = amaryllian.210.desc
	picture = GFX_evt_arena
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_habitat
		has_planet_flag = amaryllian_sanctuary_arcology
	}

	option = {
		name = amaryllian.210.a
	}
}

# Mod update notification
country_event = {
        id = amaryllian.998
        hide_window = yes
		fire_only_once = yes
        trigger = {
                always = yes
        }
		immediate = {
        country_event = {
			id = amaryllian.999
			days = 5
			random = 0
		}
		}
        }

country_event = {
	id = amaryllian.999
	title = amaryllian.999.name
	desc = amaryllian.999.desc
	picture = GFX_evt_200_subscribers_update
	show_sound = event_default
	location = root	
	is_triggered_only = yes
	trigger = {
	is_ai = no
	NOT = { has_country_flag = 200_subscribers_update_notification has_civic = civic_amaryllian_habitat }
	any_owned_planet = { has_planet_flag = amaryllian_habitat }
	}
	option = {
	name = amaryllian.999.a
	set_country_flag = 200_subscribers_update_notification
	}
#	option = {
#	name = amaryllian.999.b
#	add_resource = {
#			influence = 250
#		}
#	set_country_flag = 200_subscribers_update_notification
#	}
	}